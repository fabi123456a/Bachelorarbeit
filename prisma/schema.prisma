// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// INFO: taballen name in singular

model User {
  id             String     @id 
  loginID        String  @unique
  password       String?
  read           Boolean @default(true)
  write          Boolean @default(false)
  delete         Boolean @default(false)
  isAdmin        Boolean @default(false)
  chatEntry      ChatEntry[]
  memberships    SceneMemberShip[]
}

model Scene {
  id             String     @id 
  idUserCreater  String 
  name           String
  createDate     DateTime
  newestVersion  Int
  memberships    SceneMemberShip[]
}

model CurrentSceneEdit {
  id             String     @id 
  idUser         String 
  idScene        String
  entryDate      DateTime
}

model SceneMemberShip {
  id             String     @id 
  idScene        String 
  idUser         String
  entryDate      DateTime
  readOnly       Boolean
  user           User       @relation(fields: [idUser], references: [id])
  scene          Scene       @relation(fields: [idScene], references: [id])
}

model Session {
  id             String     @id 
  idUser         String
  startDate      DateTime
}

model ChatEntry {
  id             String     @id 
  idScene        String
  idUser         String     
  message        String
  datum          DateTime
  user           User       @relation(fields: [idUser], references: [id])
}

model Feedback {
  id             String     @id 
  text           String
}

model Model {
  id                        String     @id
  idScene                   String
  positionX                 Float
  positionY                 Float
  positionZ                 Float
  scaleX                    Float
  scaleY                    Float
  scaleZ                    Float
  rotationX                 Float
  rotationY                 Float
  rotationZ                 Float
  visibleInOtherPerspective Boolean
  showXTransform            Boolean
  showYTransform            Boolean
  showZTransform            Boolean
  modelPath                 String?
  info                      String?
  name                      String
  color                     String
  texture                   String?
  version                   Int
}


// delete user: delete from user
// insert user: INSERT INTO user ("id", "loginID", "password", "readonly") VALUES ("x", "rr", "rr", false);